# MovePlus App - Project Structure

A comprehensive fitness tracking application built with Flutter, featuring GPS tracking, social features, marketplace.

## ğŸ“ Root Directory

```
moveplusapp/
â”œâ”€â”€ android/              # Android platform-specific code
â”œâ”€â”€ ios/                  # iOS platform-specific code
â”œâ”€â”€ lib/                  # Main Dart source code
â”œâ”€â”€ assets/              # Static assets (images, icons, animations)
â”œâ”€â”€ docs/                 # Documentation files
â”œâ”€â”€ build/                # Build output (generated)
â”œâ”€â”€ hex_territory/        # Hex territory data files
â”œâ”€â”€ Icon/                 # App icon assets
â”œâ”€â”€ linux/                # Linux platform-specific code
â”œâ”€â”€ macos/                # macOS platform-specific code
â”œâ”€â”€ pubspec.yaml          # Flutter dependencies and project config
â”œâ”€â”€ analysis_options.yaml # Dart analyzer configuration
â””â”€â”€ README.md             # Project readme (if exists)
```

---

## ğŸ“± lib/ - Main Application Code

### Core Files
```
lib/
â”œâ”€â”€ main.dart                    # Application entry point
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ app_config.dart         # App-wide configuration
â”‚   â””â”€â”€ app_theme.dart          # Theme definitions
```

### ğŸ¯ Screens (`lib/screens/`)
All UI screens and user-facing views:
```
screens/
â”œâ”€â”€ auth_screen.dart                    # Authentication flow
â”œâ”€â”€ signin_screen.dart                  # Sign in screen
â”œâ”€â”€ signup_screen.dart                  # Sign up screen
â”œâ”€â”€ get_started_screen.dart             # Onboarding
â”œâ”€â”€ home_screen.dart                    # Main home screen
â”œâ”€â”€ run_walk_screen.dart                # Activity tracking (running/walking/cycling)
â”œâ”€â”€ activity_history_screen.dart        # Activity history list
â”œâ”€â”€ activity_summary_screen.dart        # Post-activity summary
â”œâ”€â”€ activity_photo_editor_screen.dart   # Photo editing for activities
â”œâ”€â”€ daily_activity_detail_screen.dart   # Daily activity details
â”œâ”€â”€ weekly_summary_screen.dart          # Weekly activity summary
â”œâ”€â”€ profile_screen.dart                 # User profile
â”œâ”€â”€ profile_edit_screen.dart            # Edit profile
â”œâ”€â”€ community_screen.dart               # Community feed
â”œâ”€â”€ community_post_detail_screen.dart   # Post detail view
â”œâ”€â”€ post_screen.dart                    # Create/edit post
â”œâ”€â”€ messages_screen.dart                 # Direct messages
â”œâ”€â”€ group_chat_screen.dart              # Group chat
â”œâ”€â”€ group_chat_list_screen.dart         # Group chat list
â”œâ”€â”€ group_chat_detail_screen.dart       # Group chat detail
â”œâ”€â”€ notification_screen.dart            # Notifications
â”œâ”€â”€ marketplace_screen.dart             # Marketplace
â”œâ”€â”€ marketplace_item_detail_screen.dart  # Item details
â”œâ”€â”€ marketplace_checkout_screen.dart    # Checkout flow
â”œâ”€â”€ rewards_raffle_screen.dart          # Rewards raffle
â”œâ”€â”€ monthly_leaderboard_screen.dart     # Leaderboard
â”œâ”€â”€ territory_screen.dart                # Territory/hex capture view
â”œâ”€â”€ offline_maps_screen.dart            # Offline maps management
â”œâ”€â”€ spotify_screen.dart                 # Spotify integration
â”œâ”€â”€ soundcloud_screen.dart              # SoundCloud integration
â”œâ”€â”€ google_fit_connect_screen.dart      # Google Fit connection
â”œâ”€â”€ google_fit_connected_screen.dart     # Google Fit status
â”œâ”€â”€ location_picker_screen.dart         # Location selection
â”œâ”€â”€ convert_token_screen.dart           # Token conversion
â”œâ”€â”€ version_check_screen.dart           # Version update check
â”œâ”€â”€ how_it_works_screen.dart            # App tutorial
â”œâ”€â”€ permission_data_usage_screen.dart   # Permission explanations
â”œâ”€â”€ privacy_policy_screen.dart          # Privacy policy
â”œâ”€â”€ terms_and_conditions_screen.dart    # Terms of service
â”œâ”€â”€ refund_policy_screen.dart          # Refund policy
â”œâ”€â”€ anti_cheat_policy_screen.dart       # Anti-cheat policy
â””â”€â”€ admin/                              # Admin screens
    â””â”€â”€ [admin-specific screens]
```

### ğŸ”§ Services (`lib/services/`)
Business logic and external service integrations:
```
services/
â”œâ”€â”€ supabase_service.dart              # Supabase backend integration
â”œâ”€â”€ auth_persistence_service.dart      # Authentication persistence
â”œâ”€â”€ billing_service.dart                # In-app purchases
â”œâ”€â”€ version_control_service.dart        # App version management
â”œâ”€â”€ permission_service.dart             # Permission handling
â”œâ”€â”€ login_rate_limiter_service.dart     # Rate limiting
â”œâ”€â”€ recaptcha_service.dart              # reCAPTCHA integration
â”œâ”€â”€ offline_map_service.dart            # Offline map management
â”œâ”€â”€ android_location_service.dart       # Android location services
â”œâ”€â”€ foreground_service_manager.dart      # Foreground service management
â”œâ”€â”€ gps_filter_service.dart             # GPS data filtering
â”œâ”€â”€ hex_capture_manager.dart            # Hex territory capture
â”œâ”€â”€ capture_manager.dart                # General capture logic
â”œâ”€â”€ post_activity_hex_capture.dart      # Post-activity hex capture
â”œâ”€â”€ challenge_engine.dart               # Challenge system
â”œâ”€â”€ follower_rewards.dart               # Follower reward system
â”œâ”€â”€ feature_gate.dart                   # Feature gating logic
â”œâ”€â”€ music_controller.dart               # Music playback control
â”œâ”€â”€ global_audio_player.dart            # Global audio player
â”œâ”€â”€ spotify_service.dart                # Spotify integration
â”œâ”€â”€ spotify_api_service.dart            # Spotify API calls
â”œâ”€â”€ spotify_playback_service.dart       # Spotify playback
â”œâ”€â”€ spotify_service_alternative.dart    # Alternative Spotify implementation
â”œâ”€â”€ soundcloud_service.dart              # SoundCloud integration
â”œâ”€â”€ soundcloud_api_service.dart          # SoundCloud API calls
â””â”€â”€ mapbox_match_result.dart            # Mapbox matching results
```

### ğŸ“¦ Models (`lib/models/`)
Data models and entities:
```
models/
â”œâ”€â”€ user_model.dart                     # User data model
â”œâ”€â”€ activity_session_model.dart          # Activity session model
â”œâ”€â”€ activity_summary_args.dart           # Activity summary arguments
â”œâ”€â”€ daily_activity_model.dart            # Daily activity model
â”œâ”€â”€ challenge_model.dart                 # Challenge model
â”œâ”€â”€ community_post_model.dart            # Community post model
â”œâ”€â”€ community_post_data.dart             # Post data structure
â”œâ”€â”€ post_model.dart                      # Post model
â”œâ”€â”€ post_comment_model.dart              # Comment model
â”œâ”€â”€ message_model.dart                   # Message model
â”œâ”€â”€ channel_model.dart                   # Channel model
â”œâ”€â”€ notification_model.dart              # Notification model
â”œâ”€â”€ follow_counts.dart                   # Follower/following counts
â”œâ”€â”€ user_follow_model.dart               # Follow relationship model
â”œâ”€â”€ leaderboard_user_model.dart          # Leaderboard user model
â”œâ”€â”€ marketplace_item_model.dart          # Marketplace item model
â”œâ”€â”€ transaction_model.dart               # Transaction model
â”œâ”€â”€ purchase_model.dart                  # Purchase model
â”œâ”€â”€ raffle_model.dart                    # Raffle model
â”œâ”€â”€ energy_points_history_model.dart      # Energy points history
â”œâ”€â”€ hex_territory_model.dart             # Hex territory model
â”œâ”€â”€ tile_capture_model.dart               # Tile capture model
â”œâ”€â”€ anti_cheat_violation_model.dart      # Anti-cheat violations
â”œâ”€â”€ app_config_model.dart                # App configuration model
â”œâ”€â”€ user_account.dart                    # User account data
â”œâ”€â”€ spotify_models.dart                   # Spotify data models
â”œâ”€â”€ soundcloud_models.dart                # SoundCloud data models
â””â”€â”€ [*.freezed.dart, *.g.dart]           # Generated files (Freezed/JSON)
```

### ğŸ¨ Widgets (`lib/widgets/`)
Reusable UI components:
```
widgets/
â”œâ”€â”€ activity_summary_card.dart          # Activity summary card
â”œâ”€â”€ challenge_progress_card.dart         # Challenge progress display
â”œâ”€â”€ daily_energy_preview.dart            # Daily energy preview
â”œâ”€â”€ daily_goal_card.dart                 # Daily goal card
â”œâ”€â”€ overall_status_card.dart             # Overall status card
â”œâ”€â”€ enhanced_overall_status_card.dart    # Enhanced status card
â”œâ”€â”€ quick_stat_card.dart                 # Quick statistics card
â”œâ”€â”€ subscription_entry.dart             # Subscription UI entry
â”œâ”€â”€ welcome_energy_points_overlay.dart    # Welcome overlay
â”œâ”€â”€ optional_update_banner.dart          # Update banner
â”œâ”€â”€ pre_permission_dialog.dart           # Permission dialog
â”œâ”€â”€ hex_overlay_renderer.dart            # Hex overlay rendering
â”œâ”€â”€ hex_overlay_renderer_style_layers.dart # Hex style layers
â”œâ”€â”€ tile_overlay_renderer.dart           # Tile overlay rendering
â”œâ”€â”€ spotify_audio_player.dart            # Spotify player widget
â”œâ”€â”€ spotify_full_player_card.dart        # Full Spotify player
â”œâ”€â”€ spotify_player_overlay.dart          # Spotify overlay
â”œâ”€â”€ spotify_playback_webview.dart        # Spotify webview
â”œâ”€â”€ soundcloud_embedded_player.dart      # SoundCloud embedded player
â”œâ”€â”€ soundcloud_full_player_card.dart     # Full SoundCloud player
â”œâ”€â”€ home_audio_player_section.dart       # Home audio section
â””â”€â”€ fullscreen_audio_player_overlay.dart # Fullscreen audio overlay
```

### ğŸ”„ Providers (`lib/providers/`)
Riverpod state management providers:
```
providers/
â”œâ”€â”€ supabase_init_provider.dart          # Supabase initialization
â”œâ”€â”€ profile_provider.dart                # User profile state
â”œâ”€â”€ activity_providers.dart              # Activity-related providers
â”œâ”€â”€ daily_activity_provider.dart         # Daily activity state
â”œâ”€â”€ current_track_provider.dart          # Current music track
â”œâ”€â”€ challenge_progress_provider.dart     # Challenge progress
â”œâ”€â”€ leaderboard_providers.dart           # Leaderboard data
â”œâ”€â”€ notification_providers.dart         # Notifications
â”œâ”€â”€ follow_providers.dart                # Follow relationships
â”œâ”€â”€ user_suggestions_provider.dart       # User suggestions
â”œâ”€â”€ community_providers.dart             # Community feed
â”œâ”€â”€ post_interaction_providers.dart     # Post interactions
â”œâ”€â”€ marketplace_provider.dart            # Marketplace data
â”œâ”€â”€ subscription_providers.dart          # Subscription state
â”œâ”€â”€ conversations_provider.dart          # Conversations
â”œâ”€â”€ message_providers.dart                # Messages
â”œâ”€â”€ message_count_provider.dart          # Message counts
â”œâ”€â”€ channel_providers.dart               # Channels
â”œâ”€â”€ spotify_providers.dart                # Spotify state
â”œâ”€â”€ soundcloud_providers.dart            # SoundCloud state
â”œâ”€â”€ music_controller_provider.dart       # Music controller
â”œâ”€â”€ player_ui_provider.dart              # Player UI state
â”œâ”€â”€ weather_provider.dart                # Weather data
â””â”€â”€ welcome_overlay_provider.dart        # Welcome overlay state
```

### ğŸ› ï¸ Utils (`lib/utils/`)
Utility functions and helpers:
```
utils/
â”œâ”€â”€ route_smoother.dart                  # Route smoothing algorithms
â”œâ”€â”€ mapbox_matcher.dart                  # Mapbox route matching
â”œâ”€â”€ gps_delta_clamp.dart                 # GPS delta clamping
â”œâ”€â”€ location_utils.dart                  # Location utilities
â”œâ”€â”€ hex_math.dart                        # Hex territory calculations
â”œâ”€â”€ tile_math.dart                       # Tile calculations
â”œâ”€â”€ energy_calculator.dart                # Energy point calculations
â”œâ”€â”€ subscription_tiers.dart             # Subscription tier logic
â”œâ”€â”€ marketplace_categories.dart          # Marketplace categories
â”œâ”€â”€ weather_icon_mapper.dart             # Weather icon mapping
â”œâ”€â”€ badge_helper.dart                    # Badge system helper
â”œâ”€â”€ feed_ranking_service.dart            # Feed ranking algorithm
â”œâ”€â”€ fit_connection_helper.dart           # Google Fit connection helper
â”œâ”€â”€ motion_frame.dart                    # Motion frame processing
â”œâ”€â”€ route_overlay_generator.dart        # Route overlay generation
â”œâ”€â”€ running_anti_cheat.dart              # Running anti-cheat
â”œâ”€â”€ walking_anti_cheat.dart             # Walking anti-cheat
â”œâ”€â”€ cycling_anti_cheat.dart              # Cycling anti-cheat
â”œâ”€â”€ anomaly_detector.dart                # Anomaly detection
â”œâ”€â”€ log_sanitizer.dart                  # Log sanitization
â”œâ”€â”€ shared_preferences_helper.dart       # SharedPreferences wrapper
â””â”€â”€ custom_route_information_provider.dart # Custom routing
```

### âš™ï¸ Engines (`lib/engines/`)
Activity tracking engines:
```
engines/
â”œâ”€â”€ activity_engine.dart                 # Base activity engine interface
â”œâ”€â”€ engine_factory.dart                  # Engine factory
â”œâ”€â”€ engine_fit/                          # Google Fit engine
â”‚   â”œâ”€â”€ fit_engine.dart                  # Fit engine implementation
â”‚   â”œâ”€â”€ fit_normalizer.dart             # Fit data normalization
â”‚   â”œâ”€â”€ fit_session_reader.dart         # Fit session reader
â”‚   â””â”€â”€ fit_validator.dart              # Fit data validation
â”œâ”€â”€ engine_gps_legacy/                   # Legacy GPS engine
â”‚   â””â”€â”€ legacy_gps_engine.dart          # Legacy GPS implementation
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ activity_session.dart           # Activity session model
â”‚   â””â”€â”€ activity_stats.dart             # Activity statistics model
â”œâ”€â”€ ENGINE_CONFIG.md                     # Engine configuration docs
â””â”€â”€ INTEGRATION_GUIDE.md                 # Integration guide
```

---

## ğŸ¤– Android (`android/`)

```
android/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ build.gradle.kts                # App-level Gradle config
â”‚   â”œâ”€â”€ proguard-rules.pro              # ProGuard rules
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ AndroidManifest.xml     # Main manifest
â”‚   â”‚   â”‚   â”œâ”€â”€ kotlin/                 # Kotlin source files
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com/moveplus/moveplusapp/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ MainActivity.kt
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ [other .kt files]
â”‚   â”‚   â”‚   â”œâ”€â”€ java/                   # Java source files (if any)
â”‚   â”‚   â”‚   â””â”€â”€ res/                    # Android resources
â”‚   â”‚   â”‚       â”œâ”€â”€ drawable/           # Drawable resources
â”‚   â”‚   â”‚       â”œâ”€â”€ layout/              # Layout files
â”‚   â”‚   â”‚       â”œâ”€â”€ mipmap-*/           # App icons
â”‚   â”‚   â”‚       â”œâ”€â”€ values/             # Values (colors, strings, styles)
â”‚   â”‚   â”‚       â””â”€â”€ xml/                # XML configs
â”‚   â”‚   â”œâ”€â”€ debug/                      # Debug-specific files
â”‚   â”‚   â””â”€â”€ profile/                    # Profile build files
â”‚   â””â”€â”€ upload-keystore.jks            # Signing keystore
â”œâ”€â”€ build.gradle.kts                    # Project-level Gradle config
â”œâ”€â”€ settings.gradle.kts                 # Gradle settings
â”œâ”€â”€ gradle.properties                   # Gradle properties
â”œâ”€â”€ key.properties                      # Keystore properties
â”œâ”€â”€ key.properties.template            # Keystore template
â”œâ”€â”€ local.properties                   # Local properties (gitignored)
â””â”€â”€ gradle/                             # Gradle wrapper
    â””â”€â”€ wrapper/
```

---

## ğŸ iOS (`ios/`)

```
ios/
â”œâ”€â”€ Runner/
â”‚   â”œâ”€â”€ AppDelegate.swift               # iOS app delegate
â”‚   â”œâ”€â”€ Info.plist                      # iOS app configuration
â”‚   â”œâ”€â”€ Runner-Bridging-Header.h         # Objective-C bridging header
â”‚   â”œâ”€â”€ Assets.xcassets/                # App icons and assets
â”‚   â”œâ”€â”€ Base.lproj/                     # Launch screen storyboards
â”‚   â””â”€â”€ GeneratedPluginRegistrant.h/m   # Generated plugin registration
â”œâ”€â”€ Flutter/                            # Flutter iOS configuration
â”‚   â”œâ”€â”€ Debug.xcconfig                  # Debug config
â”‚   â”œâ”€â”€ Release.xcconfig                # Release config
â”‚   â””â”€â”€ Generated.xcconfig            # Generated config
â”œâ”€â”€ Runner.xcodeproj/                   # Xcode project
â””â”€â”€ Runner.xcworkspace/                 # Xcode workspace
```

---

## ğŸ¨ Assets (`assets/`)

```
assets/
â”œâ”€â”€ animation/
â”‚   â””â”€â”€ Confeti.gif                     # Confetti animation
â”œâ”€â”€ icons/                              # App icons (PNG/SVG)
â”‚   â”œâ”€â”€ [39 PNG files]
â”‚   â””â”€â”€ [35 SVG files]
â”œâ”€â”€ images/                             # Image assets
â”‚   â”œâ”€â”€ [marketplace images]
â”‚   â””â”€â”€ [profile/grid images]
â””â”€â”€ nft_shoes/                          # NFT shoe designs
    â””â”€â”€ design_[1-5]/
        â”œâ”€â”€ common.png.png
        â”œâ”€â”€ uncommon.png.png
        â”œâ”€â”€ rare.png.png
        â”œâ”€â”€ epic.png.png
        â””â”€â”€ legendary.png.png
```

---

## ğŸ“š Documentation Files

The root directory contains extensive documentation:
- Setup guides (`FLUTTER_SETUP_COMPLETE.md`, `ANDROID_STUDIO_SETUP.md`)
- Feature documentation (`ARCHITECTURE.md`, `ENGINE_ARCHITECTURE.md`)
- Fix documentation (`FIX_*.md` files)
- SQL scripts (`*.sql` files for database setup)
- Build scripts (`BUILD_AAB.ps1`, `build_apk.bat`)

---

## ğŸ”‘ Key Configuration Files

- `pubspec.yaml` - Flutter dependencies and project metadata
- `analysis_options.yaml` - Dart analyzer configuration
- `android/key.properties` - Android signing configuration (gitignored)
- `android/local.properties` - Local Android paths (gitignored)

---

## ğŸ“ Notes

- Generated files (`.freezed.dart`, `.g.dart`) are created by code generation tools
- Build outputs (`build/`) are generated and should be gitignored
- Platform-specific code is separated into `android/` and `ios/` directories
- The app uses Riverpod for state management
- Supabase is used as the backend (BaaS)
- Mapbox is used for maps and route visualization
- Google Fit integration for health data

---

## ğŸš€ Getting Started

1. Install Flutter SDK (3.0.0+)
2. Run `flutter pub get` to install dependencies
3. Configure `android/key.properties` for Android builds
4. Set up Supabase credentials in `lib/config/app_config.dart`
5. Run `flutter run` to start the app

---

**Last Updated:** Version 1.0.1+64
